/*! fireSlider (1.5.6) (C) 2014 CJ O'Hara. MIT @license: en.wikipedia.org/wiki/MIT_License */
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,i){return void 0===i&&(i="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(i),i}:e(jQuery)}(function(e){function t(t,s,n){this.$el=e(t),this.selector=n,this._name=fireSlider,this._defaults=i,this._attributes=this.getData(this.$el.data()),this.options=e.extend({},i,s,this._attributes),this.options.breakpoints="string"===e.type(this.options.breakpoints)?e.parseJson(this.options.breakpoints):this.options.breakpoints,this.preInit()}var i={active:1,activePagerClass:"fire-pager-active",activeSlideClass:"fire-slider-active",breakpoints:[],delay:5e3,direction:"forward",disableLinks:!0,easing:"swing",effect:"slideInOut",hoverPause:!1,pagerTemplate:"",show:1,singleSlide:!1,slide:"li",speed:500,swipe:!0};t.prototype={preInit:function(){var t=this;t.initialized=t.init(),t.initialized?(t.build(),t.run()):e(window).resize(function(){t.initialized||(t.initialized=t.init(),t.initialized&&(t.build(),t.run()))})},init:function(){var t=this;return!!t.$el.is(":visible")&&(!(t.options.show<1||t.$el.outerWidth()<1||t.$el.width<1)&&("undefined"===e.type(e.Velocity)?(console.log("%cWARNING: fireSlider requires velocity.js to run correctly.","background: #E82C0C; color: white; padding: 0 12px;"),!1):(t.initSlides(),t.initFunctions(),t.backup=t.slides.clone(),!(t.slides.length<2)&&(t.initState(),t.initBreakpoints(),!0))))},initSlides:function(){var e=this;e.slides=e.$el.children(e.options.slide)},initFunctions:function(){var e=this;e.prev=function(){e.$el.trigger("fireSlider:prev")},e.next=function(){e.$el.trigger("fireSlider:next")},e.pause=function(){e.$el.trigger("fireSlider:pause")},e.play=function(){e.$el.trigger("fireSlider:play",e.state.direction)},e.reverse=function(){e.$el.trigger("fireSlider:reverse")},e.slide=function(t){e.$el.trigger("fireSlider:slide",t)},e.destroy=function(){e.$el.trigger("fireSlider:destroy")}},initState:function(){var e=this;e.state={active:e.options.active,currentSlide:0,direction:e.options.direction,isPaused:!1,maxX:0,minX:0,sliderWidth:e.$el.outerWidth(),slideWidth:e.$el.outerWidth()/e.options.show,slideWidthPercent:1/e.options.show*100,show:e.options.show,totalSlides:e.slides.length,windowWidth:window.innerWidth}},initBreakpoints:function(){var t=this;if(t.state.show=t.options.show,t.state.active=t.options.active,t.options.breakpoints.length>0){var i=-1,s=-1;e.each(t.options.breakpoints,function(e,n){n.breakpoint&&n.breakpoint<=t.state.windowWidth&&n.breakpoint>s&&(i=e,s=n.breakpoint)}),i!==-1&&(t.options.breakpoints[i].show&&(t.state.show=t.options.breakpoints[i].show),t.options.breakpoints[i].active&&(t.state.active=t.options.breakpoints[i].active))}t.state.slideWidthPercent=1/t.state.show*100,t.state.slideWidth=t.state.sliderWidth/t.state.show},build:function(){var e=this;e.options.pager instanceof jQuery&&e.buildPager(),e.buildSlider(),e.state.currentSlide=0,e.slides.eq(e.state.currentSlide).addClass(e.options.activeSlideClass),e.slides=e.$el.children(e.options.slide),e.positionSlides()},buildPager:function(){var e=this;"clone"===e.options.pagerTemplate.toLowerCase()?e.createClonedPager():""!==e.options.pagerTemplate?e.createCustomPager():e.createDefaultPager(),e.pages=e.options.pager.children(),e.pages.first().addClass(e.options.activePagerClass)},destroyPager:function(){var e=this;e.options.pager instanceof jQuery&&e.pages.remove()},buildSlider:function(){var e=this,t=this.calculateMultiplier(),i=e.state.totalSlides*t-e.slides.length;if(i>0)for(var s=0;s<i;s++){var n=e.slides.eq(s%e.state.totalSlides).clone();n.hasClass(e.options.activeSlideClass)&&n.removeClass(e.options.activeSlideClass),e.$el.append(n)}if(i<0)for(var r=e.slides.length-1;r>=e.slides.length+i;r--)e.$el.children(e.options.slide).eq(r).remove();return i},createClonedPager:function(){var t=this;e.each(t.slides,function(i,s){t.options.pager.append(e(s).clone()).children.eq(i)})},createCustomPager:function(){var t=this;e.each(t.slides,function(e,i){var s=t.parsePagerTemplate(i,t.options.pagerTemplate,e);t.options.pager.append(s).children().eq(e)})},createDefaultPager:function(){var t=this;e.each(t.slides,function(e,i){t.options.pager.append("<span></span>").children().eq(e)})},parsePagerTemplate:function(t,i,s){var n=i,r=this.getTemplateTagRegex("num");n.search(r)!==-1&&(n=n.replace(r,(s+1).toString()));var o=this.getTemplateTagRegex("src");if(n.search(o)!==-1){var a=t.querySelectorAll("img")[0],l="undefined"!=typeof a?a.src:"";n=n.replace(o,l)}var d=this.getTemplateTagRegex("description");if(n.search(d)!==-1){var c="undefined"!==e(t).data().firesliderPagerDescription?e(t).data().firesliderPagerDescription:"";n=n.replace(d,c)}return n},getTemplateTagRegex:function(e){return new RegExp("{{\\s*"+e+"\\s*}}","g")},calculateMultiplier:function(){var e=this,t=1,i=0,s=60;return e.state.windowWidth=window.innerWidth,e.state.slideWidth>0&&e.state.slideWidth*e.state.totalSlides<e.state.windowWidth&&(i=Math.ceil((e.state.windowWidth-e.state.slideWidth*e.state.totalSlides)/e.state.slideWidth)),i+=2*e.state.totalSlides,i=i+e.state.totalSlides>s?s-e.state.totalSlides:i,i>0&&(t+=Math.ceil(i/e.state.totalSlides)),t},calculatePositions:function(t){for(var i=this,s=(i.positions.slice(0),0);s<t;s++)i.cyclePositions("next");"forward"!=i.state.direction&&"backward"!=i.state.direction||e.each(i.slides,function(t,s){e(s).velocity({translateX:i.positions[t]+"%"},{duration:0,queue:i.options.effect})}),"up"!=i.state.direction&&"down"!=i.state.direction||e.each(i.slides,function(t,s){e(s).velocity({translateY:i.positions[t]+"%"},{duration:0,queue:i.options.effect})})},positionSlides:function(){var e=this,t=Math.ceil(e.slides.length/2)*-100+100*(e.state.active-1),i=[],s=[];e.state.minX=t,e.state.maxX=t+100*(e.slides.length-1);for(var n=Math.floor(e.slides.length/2);n<e.slides.length;n++)"forward"!=e.state.direction&&"backward"!=e.state.direction||e.slides.eq(n).velocity({translateX:t+"%"},{duration:0,queue:e.options.effect}),"up"!=e.state.direction&&"down"!=e.state.direction||e.slides.eq(n).velocity({translateY:t+"%"},{duration:0,queue:e.options.effect}),e.slides.eq(n).css({width:e.state.slideWidthPercent+"%",position:"absolute"}),s.push(t),t+=100;for(n=0;n<Math.floor(e.slides.length/2);n++)"forward"!=e.state.direction&&"backward"!=e.state.direction||e.slides.eq(n).velocity({translateX:t+"%"},{duration:0,queue:e.options.effect}),"up"!=e.state.direction&&"down"!=e.state.direction||e.slides.eq(n).velocity({translateY:t+"%"},{duration:0,queue:e.options.effect}),e.slides.eq(n).css({width:e.state.slideWidthPercent+"%",position:"absolute"}),i.push(t),t+=100;e.positions=i.concat(s),e.slides.dequeue(e.options.effect)},run:function(){var e=this;e.bindEvents(),e.startTimer(e.options.direction)},bindEvents:function(){var t=this;if(t.$el.on("fireSlider:prev",function(e){t.transitionSlides("prev")}),t.$el.on("fireSlider:next",function(e){t.transitionSlides("next")}),t.$el.on("fireSlider:pause",function(e){t.state.isPaused||(t.state.isPaused=!0,t.stopTimer())}),t.$el.on("fireSlider:play",function(e,i){t.state.isPaused&&(t.state.isPaused=!1,t.startTimer(i))}),t.$el.on("fireSlider:slide",function(e,i){t.state.currentSlide!=i&&t.pagerTransition(i)}),t.$el.on("fireSlider:reverse",function(e){t.state.isPaused||t.$el.trigger("fireSlider:pause"),"forward"!=t.state.direction&&"backward"!=t.state.direction||(t.state.direction="forward"==t.state.direction.toLowerCase()?"backward":"forward"),"up"!=t.state.direction&&"down"!=t.state.direction||(t.state.direction="up"==t.state.direction.toLowerCase()?"down":"up"),t.$el.trigger("fireSlider:play",t.state.direction)}),t.$el.on("fireSlider:refresh",function(e){t.stopTimer(),t.refresh(),t.startTimer(t.state.direction)}),t.$el.on("fireSlider:destroy",function(e){t.stopTimer(),t.unbindEvents(),t.destroyPager(),t.slides.remove(),t.$el.append(t.backup)}),t.options.prev instanceof jQuery&&t.options.prev.bind("click",e.proxy(t.prevButtonClicked,t)),t.options.next instanceof jQuery&&t.options.next.bind("click",e.proxy(t.nextButtonClicked,t)),t.options.pager instanceof jQuery&&t.options.pager.children().click(function(i){i.preventDefault(),t.$el.trigger("fireSlider:slide",e(this).index())}),t.$el.mouseover(function(e){return t.options.hoverPause&&t.$el.trigger("fireSlider:pause"),!1}),t.$el.mouseout(function(e){return t.options.hoverPause&&t.$el.trigger("fireSlider:play",t.state.direction),!1}),t.slides.find("a").click(function(i){t.options.disableLinks&&(e(this).closest(t.options.slide).hasClass(t.options.activeSlideClass)||i.preventDefault())}),e(window).resize(function(){t.$el.trigger("fireSlider:refresh")}),"undefined"!=typeof Hammer&&t.options.swipe===!0){var i=new Hammer(t.$el[0]);i.on("swipeleft",function(e){t.$el.trigger("fireSlider:next"),t.$el.trigger("fireSlider:play",t.state.direction)}),i.on("swiperight",function(e){t.$el.trigger("fireSlider:prev"),t.$el.trigger("fireSlider:play",t.state.direction)})}},unbindEvents:function(){var e=this;e.$el.off("fireSlider:prev"),e.$el.off("fireSlider:next"),e.$el.off("fireSlider:pause"),e.$el.off("fireSlider:play"),e.$el.off("fireSlider:slide"),e.$el.off("fireSlider:reverse"),e.$el.off("fireSlider:refresh"),e.options.prev instanceof jQuery&&e.options.prev.unbind("click",e.prevButtonClicked),e.options.next instanceof jQuery&&e.options.next.unbind("click",e.nextButtonClicked)},startTimer:function(e){var t=this;0===t.options.delay||t.state.isPaused||(t.timer=setInterval(function(t){return function(){t.transitionSlides(e)}}(t),t.options.delay))},stopTimer:function(){var e=this;clearInterval(e.timer)},transitionSlides:function(t){var i=this;i.stopTimer(),i.slides.eq(i.state.currentSlide).removeClass(i.options.activeSlideClass),i.pages instanceof jQuery&&i.pages.eq(i.state.currentSlide%i.state.totalSlides).removeClass(i.options.activePagerClass),i.updateCurrentSlide(t);var s=i.positions.slice(0);i.cyclePositions(t),e.each(i.slides,function(t,n){i.Effects.route(e(n),{speed:i.options.speed,effect:i.options.effect,easing:i.options.easing,currPos:s[t],nextPos:i.positions[t],snapping:i.positions[t]===i.state.minX||i.positions[t]===i.state.maxX,direction:i.state.direction})}),i.slides.dequeue(i.options.effect),i.slides.eq(i.state.currentSlide).addClass(i.options.activeSlideClass),i.pages instanceof jQuery&&i.pages.eq(i.state.currentSlide%i.state.totalSlides).addClass(i.options.activePagerClass),i.startTimer(i.state.direction)},pagerTransition:function(t){var i=this,s=t-i.state.currentSlide%i.state.totalSlides;if(0!==s){i.stopTimer(),i.slides=i.$el.children(i.options.slide),i.slides.eq(i.state.currentSlide).removeClass(i.options.activeSlideClass),i.pages instanceof jQuery&&i.pages.eq(i.state.currentSlide%i.state.totalSlides).removeClass(i.options.activePagerClass);var n=i.positions.slice(0);if(s<0)for(var r=0;r<Math.abs(s);r++)i.cyclePositions("prev");else for(var o=0;o<Math.abs(s);o++)i.cyclePositions("next");var a=100*Math.abs(s-1);e.each(i.slides,function(t,r){i.Effects.route(e(r),{speed:i.options.speed,effect:i.options.effect,easing:i.options.easing,currPos:n[t],nextPos:i.positions[t],snapping:s<0&&i.positions[t]<=i.state.minX+a||s>0&&i.positions[t]>=i.state.maxX-a,direction:i.state.direction})}),i.slides.dequeue(i.options.effect),i.state.currentSlide=(i.state.currentSlide+s)%i.slides.length,i.slides.eq(i.state.currentSlide).addClass(i.options.activeSlideClass),i.pages instanceof jQuery&&i.pages.eq(i.state.currentSlide%i.state.totalSlides).addClass(i.options.activePagerClass),i.startTimer(i.state.direction)}},updateCurrentSlide:function(e){var t=this;"prev"===e||"backward"===e.toLowerCase()||"down"==e.toLowerCase()?t.state.currentSlide=0===t.state.currentSlide?t.slides.length-1:t.state.currentSlide-=1:t.state.currentSlide=t.state.currentSlide===t.slides.length-1?0:t.state.currentSlide+=1},cyclePositions:function(e){var t=this;if("prev"===e||"backward"===e.toLowerCase()||"down"==e.toLowerCase()){var i=t.positions.shift();t.positions.push(i)}else{var s=t.positions.pop();t.positions.unshift(s)}},prevButtonClicked:function(e){var t=this;e.preventDefault(),t.$el.trigger("fireSlider:prev")},nextButtonClicked:function(e){var t=this;e.preventDefault(),t.$el.trigger("fireSlider:next")},getData:function(t){return e.each(t,function(i,s){e.each(["fireslider","fire-slider"],function(e,s){if(i.toLowerCase().indexOf(s)>-1&&i!==fireSlider){var n=i.replace(new RegExp(s,"gi"),"");n=n.charAt(0).toLowerCase()+n.slice(1),t[n]=t[i],delete t[i]}})}),t},refresh:function(){var e=this;if(e.state.windowWidth=window.innerWidth,e.state.sliderWidth=e.$el.outerWidth(),!e.$el.is(":visible"))return!1;if(e.options.show<1||e.$el.outerWidth()<1||e.$el.width<1)return!1;if(e.initBreakpoints(),e.slides.length!==e.calculateMultiplier()*e.state.totalSlides){e.slides.eq(e.state.currentSlide).removeClass(e.options.activeSlideClass);var t=e.buildSlider(e.slides);e.initSlides(),e.positionSlides(e.slides),e.state.currentSlide>e.slides.length&&(e.state.currentSlide=e.state.currentSlide%e.slides.length,e.calculatePositions(Math.abs(t)),e.slides.dequeue(e.options.effect)),e.slides.eq(e.state.currentSlide).addClass(e.options.activeSlideClass)}else e.positionSlides(),e.calculatePositions(e.state.currentSlide),e.slides.dequeue(e.options.effect)}},t.prototype.Effects={transitions:{slideInOut:"slideInOut",fadeInOut:"fadeInOut"},register:function(e,t){this.transitions[e]=e,this[e]=t},slideInOut:function(e,t){var i=t.snapping?0:t.speed;"forward"!=t.direction&&"backward"!=t.direction||e.velocity({translateX:[t.nextPos+"%",t.currPos+"%"]},{duration:i,queue:t.effect,easing:t.easing}),"up"!=t.direction&&"down"!=t.direction||e.velocity({translateY:[t.nextPos+"%",t.currPos+"%"]},{duration:i,queue:t.effect,easing:t.easing})},fadeInOut:function(e,t){var i=e.clone();e.parent().append(i),e.velocity({translateX:[t.nextPos+"%",t.nextPos+"%"]},{duration:t.speed,queue:t.effect,begin:function(){i.velocity({opacity:[0,1],zIndex:[1,1]},{duration:t.speed,easing:t.easing})},complete:function(){i.remove()}})},route:function(e,t){var i=t.effect;"undefined"!=typeof this.transitions[i]&&"function"==typeof this[i]&&this[i](e,t)}},e.fn.fireSlider=function(i){var s=this.selector;return this.each(function(){e.data(this,"fireSlider")&&(e(this).data("fireSlider").destroy(),e(this).removeData("fireSlider")),e.data(this,"fireSlider",new t(this,i,s))})},window.fireSlider=t});